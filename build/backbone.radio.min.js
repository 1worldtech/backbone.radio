// Backbone.Radio v0.1.0

!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";function c(a,c,d){c&&(d=d||this,b.each(c,function(c,e){this[a](e,b.bind(c,d))},this))}var d=a.Radio,e=a.Radio={};a.Radio.VERSION="0.1.0",a.Radio.noConflict=function(){return a.Radio=d,this},b.extend(e,{_channels:{},DEBUG:!1,channel:function(a){if(!a)throw new Error("You must provide a name for the channel.");return e._getChannel(a)},_getChannel:function(a){var b=e._channels[a];return b||(b=new e.Channel(a),e._channels[a]=b),b}}),e.Commands={command:function(b){if(this._commands&&this._commands[b]){var c=Array.prototype.slice.call(arguments,1),d=this._commands[b],e=d.callback,f=d.context;e.apply(f,c)}else if(a.Radio.DEBUG){var g=this.channelName?" on the "+this.channelName+" channel":"";console.warn("An unhandled event was fired"+g+': "'+b+'"')}},react:function(a,b,c){return this._commands||(this._commands={}),c=c||this,this._commands[a]={callback:b,context:c},this},reactOnce:function(a,c,d){var e=this,f=b.once(function(){return e.stopReacting(a),c.apply(this,arguments)});return this.command(a,f,d)},stopReacting:function(a){a?delete this._commands[a]:delete this._commands}},e.Requests={request:function(b){if(this._requests&&this._requests[b]){var c=Array.prototype.slice.call(arguments,1),d=this._requests[b],e=d.callback,f=d.context;return e.apply(f,c)}if(a.Radio.DEBUG){var g=this.channelName?" on the "+this.channelName+" channel":"";console.warn("An unhandled event was fired"+g+': "'+b+'"')}},respond:function(a,c,d){return this._requests||(this._requests={}),d=d||this,c=b.isFunction(c)?c:b.constant(c),this._requests[a]={callback:c,context:d},this},respondOnce:function(a,c,d){var e=this;c=b.isFunction(c)?c:b.constant(c);var f=b.once(function(){return e.stopResponding(a),c.apply(this,arguments)});return this.request(a,f,d)},stopResponding:function(a){a?delete this._requests[a]:delete this._requests}},e.Channel=function(c){this.channelName=c,b.extend(this,a.Events,e.Commands,e.Requests)},b.extend(a.Radio.Channel.prototype,{reset:function(){return this.off(),this.stopListening(),this.stopReacting(),this.stopResponding(),this}});var f={Events:"on",Commands:"react",Requests:"respond"};b.each(f,function(a,d){var f="connect"+d;e.Channel.prototype[f]=b.partial(c,a)});var g,h,i=[a.Events,e.Commands,e.Requests];return b.each(i,function(a){b.each(a,function(a,b){e[b]=function(a){return h=Array.prototype.slice.call(arguments,2),g=this.channel(a),g[b].apply(this,h)}})}),a.Radio});
//# sourceMappingURL=backbone.radio.min.map
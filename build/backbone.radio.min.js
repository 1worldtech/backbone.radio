// Backbone.Radio v0.1.0

!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";function c(a,c,d){c&&(d=d||this,b.each(c,function(c,e){this[a](e,b.bind(c,d))},this))}var d=a.Radio,e=a.Radio={};a.Radio.VERSION="0.1.0",a.Radio.noConflict=function(){return a.Radio=d,this},b.extend(e,{_channels:{},DEBUG:!1,channel:function(a){if(!a)throw new Error("You must provide a name for the channel.");return e._getChannel(a)},_getChannel:function(a){var b=e._channels[a];return b||(b=new e.Channel(a),e._channels[a]=b),b}});var f={execute:function(b,c,d){if(this[b]&&this[b][d]){var e=Array.prototype.slice.call(arguments,3),f=this[b][d],g=f.callback,h=f.context,i=g.apply(h,e);return c?i:void 0}if(a.Radio.DEBUG){var j=this.channelName?" on the "+this.channelName+" channel":"";console.warn("An unhandled event was fired"+j+': "'+d+'"')}},handle:function(a,c,d,e){return this[a]||(this[a]={}),e=e||this,d=b.isFunction(d)?d:b.constant(d),this[a][c]={callback:d,context:e},this},handleOnce:function(a,c,d,e,f,g){var h=this;f=b.isFunction(f)?f:b.constant(f);var i=b.once(function(){return h[d](e),f.apply(this,arguments)});return this[c](e,i,g)},stopHandling:function(a,b){b?delete this[a][b]:delete this[a]}},g=function(a,c){var d={},e="_"+a,g=c.methodsMap,h=c.returnValue;return d[g.execute]=b.partial(f.execute,e,h),d[g.handle]=b.partial(f.handle,e),d[g.handleOnce]=b.partial(f.handleOnce,e,g.handle,g.stopHandling),d[g.stopHandling]=b.partial(f.stopHandling,e),d},h={execute:"command",handle:"react",handleOnce:"reactOnce",stopHandling:"stopReacting"};e.Commands=new g("commands",{methodsMap:h,returnValue:!1});var i={execute:"request",handle:"respond",handleOnce:"respondOnce",stopHandling:"stopResponding"};e.Requests=new g("requests",{methodsMap:i,returnValue:!0}),e.Channel=function(c){this.channelName=c,b.extend(this,a.Events,e.Commands,e.Requests)},b.extend(a.Radio.Channel.prototype,{reset:function(){return this.off(),this.stopListening(),this.stopReacting(),this.stopResponding(),this}});var j={Events:"on",Commands:"react",Requests:"respond"};b.each(j,function(a,d){var f="connect"+d;e.Channel.prototype[f]=b.partial(c,a)});var k,l,m=[a.Events,e.Commands,e.Requests];return b.each(m,function(a){b.each(a,function(a,b){e[b]=function(a){return l=Array.prototype.slice.call(arguments,2),k=this.channel(a),k[b].apply(this,l)}})}),a.Radio});
//# sourceMappingURL=backbone.radio.min.map
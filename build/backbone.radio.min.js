// Backbone.Radio v0.1.0

!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";var c=a.Radio,d=a.Radio={};a.Radio.VERSION="0.1.0",a.Radio.noConflict=function(){return a.Radio=c,this},b.extend(a.Radio,{_channels:{},channel:function(a){if(!a)throw new Error("You must provide a name for the channel.");return d._getChannel(a)},_getChannel:function(a){var b=d._channels[a];return b||(b=new d.Channel(a),d._channels[a]=b),b}});var e={execute:function(a,c,d){if(this[a]&&this[a][d]){var e=Array.prototype.slice.call(arguments,3),f=this[a][d],g=f.callback,h=f.context,i=b.isFunction(g)?g.apply(h,e):g;return c?i:void 0}},handle:function(a,b,c,d){return this[a]||(this[a]={}),d=d||this,this[a][b]={callback:c,context:d},this},handleOnce:function(a,c,d,e,f,g){var h=this,i=b.once(function(){return h[d](e),b.isFunction(f)?f.apply(this,arguments):f});return this[c](e,i,g)},stopHandling:function(a,b){b?delete this[a][b]:delete this[a]}},f=function(a,c){var d={},f="_"+a,g=c.methodsMap,h=c.returnValue;return d[g.execute]=b.partial(e.execute,f,h),d[g.handle]=b.partial(e.handle,f),d[g.handleOnce]=b.partial(e.handleOnce,f,g.handle,g.stopHandling),d[g.stopHandling]=b.partial(e.stopHandling,f),d},g={execute:"command",handle:"react",handleOnce:"reactOnce",stopHandling:"stopReacting"};a.Radio.Commands=new f("commands",{methodsMap:g,returnValue:!1});var h={execute:"request",handle:"respond",handleOnce:"respondOnce",stopHandling:"stopResponding"};return a.Radio.Requests=new f("requests",{methodsMap:h,returnValue:!0}),a.Radio.Channel=function(c){this.channelName=c,b.extend(this,a.Events,d.Commands,d.Requests)},b.extend(a.Radio.Channel.prototype,{reset:function(){return this.off(),this.stopListening(),this.stopReacting(),this.stopResponding(),this}}),a.Radio});
//# sourceMappingURL=backbone.radio.min.map